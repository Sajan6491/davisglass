<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Davis Glass — Home</title>

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- HEADER (injected by header-footer.js) -->
  <div id="header"></div>

  <!-- PRODUCT PREVIEW (appears below header) -->
  <div id="product-preview" aria-hidden="true" role="region" aria-label="Product quick preview">
    <div class="preview-inner">
      <div class="preview-meta">
        <h4 id="preview-title">Product</h4>
        <p id="preview-text">Product short description will appear here.</p>
      </div>
      <div class="preview-actions">
        <button id="preview-open" class="preview-btn primary" type="button">Open</button>
        <button id="preview-close" class="preview-close" title="Close preview" aria-label="Close preview">✕</button>
      </div>
    </div>
  </div>

  <!-- HERO / SLIDER -->
  <section class="split-hero" aria-label="Homepage hero">
    <div class="wrap-hero">
      <div class="hero-area">
        <div class="hero-swiper swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide hero-slide">
              <div class="hero-bg" style="background-image:url('https://www.davisglass.com.au/images/stat_imgs/shutterstock_766324486.jpg')"></div>
              <div class="hero-card">
                <h2>Davis Glass — Performance &amp; Architectural Glass</h2>
                <p>Clarity, safety and thermal performance combined for modern architecture and fabrication.</p>
                <div class="btns">
                  <a class="btn brand-primary" href="#products-showcase-improved">Explore Products</a>
                  <a class="btn ghost" href="#contact">Request Sample</a>
                </div>
              </div>
            </div>

            <div class="swiper-slide hero-slide">
              <div class="hero-bg" style="background-image:url('https://images.unsplash.com/photo-1519710164239-da123dc03ef4?auto=format&fit=crop&w=2200&q=80')"></div>
              <div class="hero-card">
                <h2>Laminate &amp; Acoustic Solutions</h2>
                <p>High-performance laminates engineered for sound control and occupant protection.</p>
                <div class="btns">
                  <a class="btn brand-primary" href="#products-showcase-improved">Explore Laminate</a>
                  <a class="btn ghost" href="#specs">Download Specs</a>
                </div>
              </div>
            </div>

            <div class="swiper-slide hero-slide">
              <div class="hero-bg" style="background-image:url('https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=2200&q=80')"></div>
              <div class="hero-card">
                <h2>Low-E Coatings &amp; DGU Performance</h2>
                <p>Improve thermal efficiency while preserving daylight and views with coated systems.</p>
                <div class="btns">
                  <a class="btn brand-primary" href="#products-showcase-improved">See Low-E Options</a>
                  <a class="btn ghost" href="#contact">Talk to an Expert</a>
                </div>
              </div>
            </div>
          </div>

          <button class="swiper-button-prev" aria-label="Previous slide"></button>
          <button class="swiper-button-next" aria-label="Next slide"></button>
          <div class="swiper-pagination"></div>
        </div>

        <div class="thumbs" role="tablist" aria-label="Hero thumbnails">
          <div class="thumb" data-index="0" style="background-image:url('https://www.davisglass.com.au/images/stat_imgs/shutterstock_766324486.jpg')" aria-label="Slide 1" role="button" tabindex="0"></div>
          <div class="thumb" data-index="1" style="background-image:url('https://images.unsplash.com/photo-1519710164239-da123dc03ef4?auto=format&fit=crop&w=800&q=60')" aria-label="Slide 2" role="button" tabindex="0"></div>
          <div class="thumb" data-index="2" style="background-image:url('https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=800&q=60')" aria-label="Slide 3" role="button" tabindex="0"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- divider -->
  <svg class="wave-divider" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 60" preserveAspectRatio="none">
    <path d="M0,30 C150,60 300,0 600,30 C900,60 1050,0 1200,30 L1200 60 L0 60 Z" fill="#ffffff" opacity="0.95"></path>
  </svg>

  <!-- WHAT WE STAND FOR – MODERN CLEAN -->
  <section class="dg-standfor-v3">
    <div class="container dg-standfor-v3-inner">

      <!-- TEXT SIDE -->
      <div class="dg-standfor-v3-text">
        <p class="dg-standfor-v3-tag">WHAT WE STAND FOR</p>

        <h2>A glass supplier built on reliability, speed and service.</h2>

        <p>
          We support glaziers and window fabricators with fast turnaround times,
          dependable quality and genuinely helpful service at every stage.
        </p>

        <p>
          From urgent shopfront replacements to high-volume cut-to-size production,
          our warehousing, logistics and stock range are designed to reduce delays
          and improve efficiency for your business.
        </p>

        <p>
          We proudly service all Melbourne suburbs and extend into rural Victoria.
        </p>

        <a href="about.html" class="btn brand-primary">
          Read More
        </a>
      </div>

      <!-- IMAGE SIDE -->
      <div class="dg-standfor-v3-image">
        <img
          src="https://www.davisglass.com.au/images/page_imgs/hp_small_right-w650-q100-5aff4419a9805.jpg"
          alt="Glass technician at work"
          loading="lazy"
        >
      </div>

    </div>
  </section>

  <!-- WHO WE WORK WITH -->
  <section class="industries" aria-label="Industries we serve">
    <div class="container industries-inner">
      <header class="industries-head">
        <p class="industries-kicker">WHO WE WORK WITH</p>
        <h2>Davis Glass, the double glazed glass specialists.</h2>
        <p class="industries-lead">
          We supply trade, fabrication and manufacturing partners with reliable, performance-led glass solutions —
          from one-off jobs to ongoing production runs.
        </p>
      </header>

      <div class="industries-grid">
        <!-- 1 -->
        <article class="industry-card">
          <div class="industry-icon">
            <span class="industry-glyph"></span>
          </div>
          <h3>Glass &amp; glazing companies</h3>
          <p>
            Consistent wholesale supply and responsive service for day-to-day glazing, retrofits and project work.
          </p>
        </article>

        <!-- 2 -->
        <article class="industry-card">
          <div class="industry-icon">
            <span class="industry-glyph"></span>
          </div>
          <h3>Window &amp; door manufacturers</h3>
          <p>
            Laminate, Low-E and DGU glass that integrates cleanly with your existing aluminium or uPVC systems.
          </p>
        </article>

        <!-- 3 -->
        <article class="industry-card">
          <div class="industry-icon">
            <span class="industry-glyph"></span>
          </div>
          <h3>Shopfitters</h3>
          <p>
            Glass for façades, shopfronts, counters and displays — ideal for fast turnaround retail fit-outs.
          </p>
        </article>

        <!-- 4 -->
        <article class="industry-card">
          <div class="industry-icon">
            <span class="industry-glyph"></span>
          </div>
          <h3>Picture framers</h3>
          <p>
            2&nbsp;mm clear, non-reflective and specialty glass options tailored to framing studios and workshops.
          </p>
        </article>

        <!-- 5 -->
        <article class="industry-card">
          <div class="industry-icon">
            <span class="industry-glyph"></span>
          </div>
          <h3>Shower screen manufacturers</h3>
          <p>
            Toughened and laminated glass for framed and frameless shower systems, with safety front of mind.
          </p>
        </article>

        <!-- 6 -->
        <article class="industry-card">
          <div class="industry-icon">
            <span class="industry-glyph"></span>
          </div>
          <h3>Cabinet &amp; joinery companies</h3>
          <p>
            Glass shelving, doors and feature panels that complement premium kitchen, bathroom and joinery work.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section id="products-showcase-improved" aria-label="Products showcase" class="products-showcase-improved">
    <div class="psi-inner container">
      <header class="psi-head" role="region" aria-labelledby="psi-title">
        <div>
          <h2 id="psi-title">Products & Systems</h2>
          <p class="psi-lead">
            Explore laminates, Low-E systems, toughened glass and DGU options — performance-led solutions
            for architecture and fabrication.
          </p>
        </div>

        <nav class="psi-filters" role="tablist" aria-label="Product filters">
          <button type="button" role="tab" aria-selected="true" data-filter="all" class="psi-tab">All</button>
          <button type="button" role="tab" aria-selected="false" data-filter="laminate" class="psi-tab">Laminate</button>
          <button type="button" role="tab" aria-selected="false" data-filter="acoustic" class="psi-tab">Acoustic Laminate</button>
          <button type="button" role="tab" aria-selected="false" data-filter="lowe" class="psi-tab">Low-E</button>
          <button type="button" role="tab" aria-selected="false" data-filter="security" class="psi-tab">Security Laminate</button>
          <button type="button" role="tab" aria-selected="false" data-filter="mirror" class="psi-tab">Mirror</button>
          <button type="button" role="tab" aria-selected="false" data-filter="oneway" class="psi-tab">One way mirror</button>
          <button type="button" role="tab" aria-selected="false" data-filter="merch" class="psi-tab">Merchandising</button>
          <button type="button" role="tab" aria-selected="false" data-filter="sheets" class="psi-tab">Sheets</button>
          <button type="button" role="tab" aria-selected="false" data-filter="blocks" class="psi-tab">Blocks</button>
          <button type="button" role="tab" aria-selected="false" data-filter="toughened" class="psi-tab">Toughened</button>
          <button type="button" role="tab" aria-selected="false" data-filter="dgu" class="psi-tab">DGU</button>
        </nav>
      </header>

      <div class="psi-grid" id="psiGrid" role="list">
        <!-- Laminate -->
        <article class="psi-card" data-type="laminate" role="listitem" tabindex="0" aria-labelledby="p-lam-1">
          <div class="psi-media" data-bg="https://img.archiexpo.com/images_ae/photo-mg/67485-16919258.jpg"></div>
          <div class="psi-body">
            <span class="psi-badge">LAMINATE</span>
            <h3 id="p-lam-1" class="psi-title">Safety & Acoustic Laminates</h3>
            <p class="psi-desc">
              Multi-layer laminated glass engineered for occupant protection and noise control — bespoke thicknesses & interlayers.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Safety & Acoustic Laminates"
                data-type="laminate"
                data-img="https://img.archiexpo.com/images_ae/photo-mg/67485-16919258.jpg"
              >
                View
              </button>
              <a class="psi-btn-ghost" href="contact.html">Sample</a>
            </div>
          </div>
        </article>

        <!-- Acoustic Laminate -->
        <article class="psi-card" data-type="acoustic" role="listitem" tabindex="0" aria-labelledby="p-acoustic-1">
          <div class="psi-media" data-bg="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQzaeZUggoK56j5H6BvGKQEPY0gUJy2Bp2KTQ&s"></div>
          <div class="psi-body">
            <span class="psi-badge">ACOUSTIC</span>
            <h3 id="p-acoustic-1" class="psi-title">Acoustic Laminate Systems</h3>
            <p class="psi-desc">
              Specialised laminates designed to reduce reverberation and improve room acoustics for commercial and residential projects.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Acoustic Laminate Systems"
                data-type="acoustic"
                data-img="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQzaeZUggoK56j5H6BvGKQEPY0gUJy2Bp2KTQ&s"
              >
                Details
              </button>
              <a class="psi-btn-ghost" href="specs.html">Specs</a>
            </div>
          </div>
        </article>

        <!-- Low-E -->
        <article class="psi-card" data-type="lowe" role="listitem" tabindex="0" aria-labelledby="p-lowe-1">
          <div class="psi-media" data-bg="https://www.windowadvicecentre.co.uk/wp-content/uploads/2024/08/Window-Advice-Centre-Low-E-Glass-Stack-of-Low-Emmissivity-Glazed-Units-1080x675.jpg"></div>
          <div class="psi-body">
            <span class="psi-badge">LOW-E</span>
            <h3 id="p-lowe-1" class="psi-title">Low-E (Low Emissivity)</h3>
            <p class="psi-desc">
              High performance Low-E coatings and single glazed options for solar control and improved thermal performance.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Low-E Coatings & DGU"
                data-type="lowe"
                data-img="https://www.windowadvicecentre.co.uk/wp-content/uploads/2024/08/Window-Advice-Centre-Low-E-Glass-Stack-of-Low-Emmissivity-Glazed-Units-1080x675.jpg"
              >
                Options
              </button>
              <a class="psi-btn-ghost" href="contact.html">Contact</a>
            </div>
          </div>
        </article>

        <!-- Security Laminate -->
        <article class="psi-card" data-type="security" role="listitem" tabindex="0" aria-labelledby="p-security-1">
          <div class="psi-media" data-bg="https://llumar.com/content/dam/eastman/performance-films/llumar/nar/images/arch/clear-safety-commercial-halfbox-html-mobile.jpg"></div>
          <div class="psi-body">
            <span class="psi-badge">SECURITY</span>
            <h3 id="p-security-1" class="psi-title">Security Laminate</h3>
            <p class="psi-desc">
              Security-grade laminates for forced entry resistance, ballistic and impact-rated applications.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Security Laminate"
                data-type="security"
                data-img="https://llumar.com/content/dam/eastman/performance-films/llumar/nar/images/arch/clear-safety-commercial-halfbox-html-mobile.jpg"
              >
                Learn
              </button>
              <a class="psi-btn-ghost" href="contact.html">Enquire</a>
            </div>
          </div>
        </article>

        <!-- Mirror -->
        <article class="psi-card" data-type="mirror" role="listitem" tabindex="0" aria-labelledby="p-mirror-1">
          <div class="psi-media" data-bg="https://flairglass.in/cdn/shop/files/MoonDiscBorderTwin-LEDBathroomMirror-NaturalWhiteLight-Round01copy.jpg?v=1684488167&width=480"></div>
          <div class="psi-body">
            <span class="psi-badge">MIRROR</span>
            <h3 id="p-mirror-1" class="psi-title">Mirror</h3>
            <p class="psi-desc">
              High quality mirrors for interior, architectural and display use — various finishes and backing options.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Mirror"
                data-type="mirror"
                data-img="https://flairglass.in/cdn/shop/files/MoonDiscBorderTwin-LEDBathroomMirror-NaturalWhiteLight-Round01copy.jpg?v=1684488167&width=480"
              >
                View
              </button>
              <a class="psi-btn-ghost" href="contact.html">Sample</a>
            </div>
          </div>
        </article>

        <!-- One way mirror -->
        <article class="psi-card" data-type="oneway" role="listitem" tabindex="0" aria-labelledby="p-oneway-1">
          <div class="psi-media" data-bg="https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1200&q=60"></div>
          <div class="psi-body">
            <span class="psi-badge">ONE WAY</span>
            <h3 id="p-oneway-1" class="psi-title">One Way Mirror</h3>
            <p class="psi-desc">
              One-way vision systems for observation rooms, security and privacy applications.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="One Way Mirror"
                data-type="oneway"
                data-img="https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1400&q=60"
              >
                See
              </button>
              <a class="psi-btn-ghost" href="contact.html">Enquire</a>
            </div>
          </div>
        </article>

        <!-- Merchandising -->
        <article class="psi-card" data-type="merch" role="listitem" tabindex="0" aria-labelledby="p-merch-1">
          <div class="psi-media" data-bg="https://www.zhsunyco.com/wp-content/uploads/2024/01/image-2.webp"></div>
          <div class="psi-body">
            <span class="psi-badge">MERCH</span>
            <h3 id="p-merch-1" class="psi-title">Merchandising</h3>
            <p class="psi-desc">
              Display glass and fabricated merchandising solutions for retail and exhibition environments.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Merchandising"
                data-type="merch"
                data-img="https://www.zhsunyco.com/wp-content/uploads/2024/01/image-2.webp"
              >
                See
              </button>
              <a class="psi-btn-ghost" href="contact.html">Sample</a>
            </div>
          </div>
        </article>

        <!-- Sheets -->
        <article class="psi-card" data-type="sheets" role="listitem" tabindex="0" aria-labelledby="p-sheets-1">
          <div class="psi-media" data-bg="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEWxENBxEI8RrwI4QYSXMvoLVr7-n67i_9lA&s"></div>
          <div class="psi-body">
            <span class="psi-badge">SHEETS</span>
            <h3 id="p-sheets-1" class="psi-title">Sheets</h3>
            <p class="psi-desc">
              Flat glass sheets available in a range of thicknesses for fabrication and finishing.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Sheets"
                data-type="sheets"
                data-img="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEWxENBxEI8RrwI4QYSXMvoLVr7-n67i_9lA&s"
              >
                View
              </button>
              <a class="psi-btn-ghost" href="contact.html">Order</a>
            </div>
          </div>
        </article>

        <!-- Blocks -->
        <article class="psi-card" data-type="blocks" role="listitem" tabindex="0" aria-labelledby="p-blocks-1">
          <div class="psi-media" data-bg="https://image.made-in-china.com/202f0j00khUYtCGBYWoN/High-Thermal-Performance-Vacuum-Double-Glazed-Glass.webp"></div>
          <div class="psi-body">
            <span class="psi-badge">BLOCKS</span>
            <h3 id="p-blocks-1" class="psi-title">Blocks</h3>
            <p class="psi-desc">
              Solid glass blocks for architectural features, partitions and light-transmitting walls.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Blocks"
                data-type="blocks"
                data-img="https://image.made-in-china.com/202f0j00khUYtCGBYWoN/High-Thermal-Performance-Vacuum-Double-Glazed-Glass.webp"
              >
                See
              </button>
              <a class="psi-btn-ghost" href="contact.html">Sample</a>
            </div>
          </div>
        </article>

        <!-- Toughened -->
        <article class="psi-card" data-type="toughened" role="listitem" tabindex="0" aria-labelledby="p-tough-1">
          <div class="psi-media" data-bg="https://www.davisglass.com.au/images/page_imgs/thc_cat_693714901-w600-q100-5b00cf548fb62.jpg"></div>
          <div class="psi-body">
            <span class="psi-badge">TOUGHENED</span>
            <h3 id="p-tough-1" class="psi-title">Toughened Safety Glass</h3>
            <p class="psi-desc">
              Tempered glass with certified impact resistance — ideal for doors, façades and balustrades.
            </p>
            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="Toughened Safety Glass"
                data-type="toughened"
                data-img="https://www.davisglass.com.au/images/page_imgs/thc_cat_693714901-w600-q100-5b00cf548fb62.jpg"
              >
                Learn
              </button>
              <a class="psi-btn-ghost" href="contact.html">Enquire</a>
            </div>
          </div>
        </article>

        <!-- DGU -->
        <article class="psi-card" data-type="dgu" role="listitem" tabindex="0" aria-labelledby="p-dgu-1">
          <div class="psi-media" data-bg="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSL5zwyCAz7wOXnQ6V-XevZt23vmt94TFeSog&s"></div>
          <div class="psi-body">
            <span class="psi-badge">DGU</span>
            <h3 id="p-dgu-1" class="psi-title">DGU Types & Options</h3>
            <p class="psi-desc">
              Double glazed unit options for thermal performance and solar control. Choose from the following:
            </p>

            <div class="psi-accordion">
              <button
                type="button"
                class="psi-accordion-toggle"
                aria-expanded="false"
                aria-controls="dgu-list-1"
              >
                See DGU Types ▾
              </button>
              <ul id="dgu-list-1" class="psi-accordion-panel" hidden>
                <li><strong>i) clear on clear</strong> — standard DGU with clear glass.</li>
                <li><strong>ii) E-tech on clear</strong> — coated performance layer for solar control.</li>
                <li><strong>iii) ThermaLux</strong> — entry-level thermal performance DGU.</li>
                <li><strong>iv) ThermaLux Plus</strong> — improved U-value and insulating performance.</li>
                <li><strong>v) ThermaLux Elite</strong> — top-tier thermal efficiency and glazing options.</li>
              </ul>
            </div>

            <div class="psi-actions">
              <button
                type="button"
                class="psi-btn-primary psi-open-detail"
                data-title="DGU Types & Options"
                data-type="dgu"
                data-img="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSL5zwyCAz7wOXnQ6V-XevZt23vmt94TFeSog&s"
              >
                Explore
              </button>
              <a class="psi-btn-ghost" href="contact.html">Talk</a>
            </div>
          </div>
        </article>

      </div>

      <div class="psi-footer muted" style="margin-top:18px;">
        <small>
          Partners: Soltech · Viridian · Evantage — contact our team for partner-specific product support.
        </small>
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div
    id="psiModalBackdrop"
    class="psi-modal-backdrop"
    aria-hidden="true"
    role="dialog"
    aria-modal="true"
    aria-labelledby="psiModalHeading"
  >
    <div class="psi-modal" role="document">
      <div style="display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid #eee; justify-content: space-between;">
        <h3 id="psiModalHeading" style="margin:0;color:var(--brand)">Product detail</h3>
        <button id="psiModalClose" class="close-btn" aria-label="Close product details">✕</button>
      </div>
      <div class="modal-body" style="padding:18px;">
        <div
          class="modal-media"
          id="psiModalMedia"
          style="background-image:none;background-size:cover;background-position:center;"
        ></div>
        <div class="modal-info">
          <h3 id="psiModalHeadingText" style="margin-top:0"></h3>
          <p id="psiModalCopy" style="color:var(--muted)"></p>
          <ul id="psiModalSpecs" style="margin:10px 0 0 16px;color:var(--muted)"></ul>
          <div class="modal-actions" style="display:flex;gap:10px;margin-top:16px;">
            <a id="psiModalPrimary" class="psi-btn-primary" href="#">View product page</a>
            <a id="psiModalContact" class="psi-btn-ghost" href="contact.html">Contact us</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER (injected) -->
  <div id="footer"></div>

  <div id="dev-log" aria-hidden="true"></div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="header-footer.js" defer></script>
  
  <script>
    // dev logger toggle (Ctrl/Cmd + D)
    (function(){
      const logBox = document.getElementById('dev-log');
      function showLog(msg){
        if(!logBox) return;
        logBox.classList.add('show');
        const line = document.createElement('div');
        line.textContent = (new Date()).toLocaleTimeString() + ' — ' + msg;
        logBox.appendChild(line);
        logBox.scrollTop = logBox.scrollHeight;
        console.debug(msg);
      }
      window.__devLog = showLog;
      window.addEventListener('error', function(e){
        showLog('Error: ' + (e.message || e));
      });
      window.addEventListener('unhandledrejection', function(ev){
        showLog('Promise rejection: ' + (ev.reason && (ev.reason.message || ev.reason)) );
      });
      window.addEventListener('keydown', function(e){
        if(e.key === 'D' && (e.ctrlKey || e.metaKey)) {
          logBox.classList.toggle('show');
          logBox.setAttribute(
            'aria-hidden',
            logBox.classList.contains('show') ? 'false' : 'true'
          );
        }
      }); 
    })();
  </script>

  <script>
    // set --vh for mobile
    (function(){
      function setVh(){
        document.documentElement.style.setProperty('--vh', (window.innerHeight * 0.01) + 'px');
      }
      setVh();
      window.addEventListener('resize', setVh);
    })();
  </script>

  <script>
    // Hero + thumbnails init (uses same config as before)
    document.addEventListener('DOMContentLoaded', function(){
      try {
        const hero = new Swiper('.hero-swiper', {
          loop: true,
          effect: 'fade',
          fadeEffect: { crossFade: true },
          speed: 900,
          autoplay: { delay: 5200, disableOnInteraction: false },
          navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
          pagination: { el: '.swiper-pagination', clickable: true },
          keyboard: { enabled: true, onlyInViewport: true },
        });

        const thumbs = Array.from(document.querySelectorAll('.thumb'));
        function setActiveThumb(idx){
          thumbs.forEach((t, i) => t.classList.toggle('active', i === idx));
        }
        setActiveThumb(0);
        hero.on('slideChange', function(){
          setActiveThumb(hero.realIndex);
        });
        thumbs.forEach(t => {
          t.addEventListener('click', () => hero.slideToLoop(Number(t.dataset.index)));
          t.addEventListener('keydown', function(e){
            if(e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              t.click();
            }
          });
        });

        document.querySelectorAll('.psi-media').forEach(media => {
          const s = media.dataset.bg;
          if(s) media.style.backgroundImage = `url('${s}')`;
        });
      } catch(err){
        window.__devLog && window.__devLog('Init error: ' + err.message);
      }
    });
  </script>

  <script>
    // Products: filters, accordion, modal, preview (defensive, delegated)
    document.addEventListener('DOMContentLoaded', function(){
      try {
        const root = document.getElementById('products-showcase-improved');
        if(!root) return;
        const filtersNav = root.querySelector('.psi-filters');
        const cards = Array.from(root.querySelectorAll('.psi-card'));

        // ensure data-filter present
        root.querySelectorAll('.psi-tab').forEach(t => {
          if(!t.dataset.filter){
            t.dataset.filter = (t.textContent || '').trim().toLowerCase().replace(/\s+/g,'-') || 'all';
          }
        });

        filtersNav.addEventListener('click', function(e){
          const btn = e.target.closest('.psi-tab');
          if(!btn) return;
          const filter = btn.dataset.filter || 'all';
          root.querySelectorAll('.psi-tab').forEach(t =>
            t.setAttribute('aria-selected', t.dataset.filter === filter ? 'true' : 'false')
          );
          cards.forEach(c => {
            const type = (c.dataset.type || 'all').toLowerCase();
            if (filter === 'all' || type === filter) {
              c.classList.remove('hidden');
              c.style.display = '';
            } else {
              c.classList.add('hidden');
              c.style.display = 'none';
            }
          });
          const first = root.querySelector('.psi-card:not(.hidden)');
          if(first) first.focus({preventScroll:true});
        });

        // accordions
        root.querySelectorAll('.psi-accordion-toggle').forEach(btn => {
          const id = btn.getAttribute('aria-controls');
          const panel = root.querySelector('#' + id);
          if(!panel) return;
          panel.hidden = true;
          btn.setAttribute('aria-expanded','false');
          btn.addEventListener('click', function(){
            const open = btn.getAttribute('aria-expanded') === 'true';
            btn.setAttribute('aria-expanded', String(!open));
            panel.hidden = open;
          });
        });

        // modal elements
        const modalBackdrop = document.getElementById('psiModalBackdrop');
        const modalHeading = document.getElementById('psiModalHeading');
        const modalCopy = document.getElementById('psiModalCopy');
        const modalMedia = document.getElementById('psiModalMedia');
        const modalPrimary = document.getElementById('psiModalPrimary');
        const modalClose = document.getElementById('psiModalClose');

        function openModal({ title = '', type = 'product', image = '', href = '#' } = {}) {
          if(!modalBackdrop) return;
          if(modalHeading) modalHeading.textContent = title || 'Product';
          if(modalCopy) modalCopy.textContent =
            'Detailed information about ' + (title || 'this product') + '. Contact us for specs, samples and pricing.';
          if(modalMedia) modalMedia.style.backgroundImage = image ? `url('${image}')` : '';
          if(modalPrimary){
            modalPrimary.href = href;
            modalPrimary.textContent = 'View ' + (type === 'dgu' ? 'DGU Options' : 'Product page');
          }
          modalBackdrop.classList.add('open');
          modalBackdrop.setAttribute('aria-hidden','false');
          if(modalClose) modalClose.focus();
          document.body.style.overflow = 'hidden';
        }
        function closeModal(){
          if(!modalBackdrop) return;
          modalBackdrop.classList.remove('open');
          modalBackdrop.setAttribute('aria-hidden','true');
          document.body.style.overflow = '';
        }

        // delegate clicks for modal open
        root.addEventListener('click', function(e){
          const btn = e.target.closest('.psi-open-detail, .psi-btn-primary');
          if(!btn) return;
          if(!(btn.dataset && btn.dataset.title)) return;
          const title = btn.dataset.title || 'Product';
          const type = btn.dataset.type || 'product';
          const img = btn.dataset.img || '';
          const href = 'products.html#' + (type || 'product');
          openModal({ title, type, image: img, href });
        });

        if(modalClose) modalClose.addEventListener('click', closeModal);
        if(modalBackdrop) modalBackdrop.addEventListener('click', function(e){
          if(e.target === modalBackdrop) closeModal();
        });
        document.addEventListener('keydown', function(e){
          if((e.key === 'Escape' || e.key === 'Esc') && modalBackdrop && modalBackdrop.classList.contains('open')){
            closeModal();
          }
        });

        // preview functionality
        const summaries = {
          "laminate": "Multi-layer laminated glass engineered for occupant protection and noise control — bespoke thicknesses & interlayers.",
          "acoustic": "Specialised laminates designed to reduce reverberation and improve room acoustics for commercial and residential projects.",
          "lowe": "High performance Low-E coatings and single glazed options for solar control and improved thermal performance.",
          "security": "Security-grade laminates for forced entry resistance, ballistic and impact-rated applications.",
          "mirror": "High quality mirrors for interior, architectural and display use — various finishes and backing options.",
          "oneway": "One-way vision systems for observation rooms, security and privacy applications.",
          "merch": "Display glass and fabricated merchandising solutions for retail and exhibition environments.",
          "sheets": "Flat glass sheets available in a range of thicknesses for fabrication and finishing.",
          "blocks": "Solid glass blocks for architectural features, partitions and light-transmitting walls.",
          "toughened": "Tempered glass with certified impact resistance — ideal for doors, façades and balustrades.",
          "dgu": "Double glazed unit options for thermal performance and solar control. Choose from clear on clear, E-tech and ThermaLux ranges."
        };

        function normalizeKey(text){
          if(!text) return '';
          let t = text.trim().toLowerCase();
          t = t.replace(/\b(low[\s-]*e|low[-\s]*e)\b/,'lowe');
          t = t.replace(/\b(one[\s-]*way|one[-\s]*way)\b/,'oneway');
          t = t.replace(/\s+/g,' ');
          for(const k of Object.keys(summaries)){
            if(t.includes(k)) return k;
          }
          if(t.includes('laminate')) return 'laminate';
          if(t.includes('low')) return 'lowe';
          if(t.includes('dgu')) return 'dgu';
          return '';
        }

        function showPreview(title, key){
          const preview = document.getElementById('product-preview');
          const previewTitle = document.getElementById('preview-title');
          const previewText = document.getElementById('preview-text');
          if(!preview || !previewTitle || !previewText) return;
          previewTitle.textContent = title || (key || 'Product');
          previewText.textContent =
            summaries[key] || summaries[normalizeKey(title)] || 'Specification coming soon.';
          preview.classList.add('open');
          preview.setAttribute('aria-hidden','false');
          preview.dataset.key = key || normalizeKey(title) || '';
        }
        function hidePreview(){
          const preview = document.getElementById('product-preview');
          if(!preview) return;
          preview.classList.remove('open');
          preview.setAttribute('aria-hidden','true');
          preview.dataset.key = '';
        }

        // wire card title clicks -> preview
        document.querySelectorAll('.psi-card').forEach(card => {
          const titleEl = card.querySelector('.psi-title');
          const type = card.dataset.type || '';
          if(titleEl){
            titleEl.style.cursor = 'pointer';
            titleEl.addEventListener('click', function(){
              const title = titleEl.textContent.trim();
              showPreview(title, type || normalizeKey(title));
            });
          }
        });

        // preview controls
        const previewClose = document.getElementById('preview-close');
        const previewOpen = document.getElementById('preview-open');
        previewClose && previewClose.addEventListener('click', hidePreview);
        previewOpen && previewOpen.addEventListener('click', function(){
          const preview = document.getElementById('product-preview');
          if(!preview) return;
          const key = preview.dataset.key;
          if(key){
            const targetCard = document.querySelector('.psi-card[data-type="'+key+'"]');
            if(targetCard){
              hidePreview();
              targetCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
              targetCard.style.transition = 'transform .25s';
              targetCard.style.transform = 'translateY(-6px)';
              setTimeout(()=> targetCard.style.transform = '', 420);
              return;
            }
          }
          hidePreview();
          window.location.href = 'products.html#' + (preview.dataset.key || '');
        });

        document.addEventListener('keydown', function(e){
          if(e.key === 'Escape') hidePreview();
        });

        document.addEventListener('click', function(e){
          const preview = document.getElementById('product-preview');
          if(!preview || !preview.classList.contains('open')) return;
          if(e.target.closest('#product-preview')) return;
          const isProductTarget = !!e.target.closest('.psi-card, #mega .inner a, .mobile-panel a, .footer .footer-links');
          if(isProductTarget) return;
          hidePreview();
        });
      } catch(err){
        window.__devLog && window.__devLog('Products script error: ' + err.message);
      }
    });
  </script>

  <script>
    function disableinspectelement(){
      document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
      });
      document.addEventListener('keydown', function(e) {
        if (e.keyCode == 123) {
          e.preventDefault();
        }
        if (e.ctrlKey && e.shiftKey &&
          (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) {
          e.preventDefault();
        }
        if (e.ctrlKey && (e.keyCode == 'U'.charCodeAt(0))) {
          e.preventDefault();
        }
      });
    }
    disableinspectelement();
  </script>

</body>
</html>
